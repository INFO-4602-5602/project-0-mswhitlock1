<html>
<head>
<title>Project 0</title>
<style type="text/css" href="project0.css"></style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<!--Put your D3 import statement between these two lines-->
    <script src="https://d3js.org/d3.v3.min.js"></script>
<!--Put your D3 import statement between these two lines-->
</head>

<body>
	<div id="partOne">
        <h1>Part One: </h1>
	</div>
    
    <div id="partTwo">
        <h1>Part Two: </h1>
        <h2>Dataset I Bar Graph</h2>
        <div id="barchart">
        </div>
	</div>
    
    <div id="partThree">
        <h1>Part Three &amp; Four: </h1>
        <div id="scatterplot">
            <p id="scatterLabel"></p>
        </div>
	</div>
    
    <div id="partFive">
        <h1>Part Five: </h1>
        <div id="scatterplotSet">
        </div>
	</div>
    
    <script type="text/javascript">
        var w = 700; // Width of our visualization
        var h = 500; // Height of our visualization
        var xOffset = 100; // Space for x-axis labels
        var yOffset = 100; // Space for y-axis labels
        var margin = 0; // Margin around visualization
        var vals = ['x', 'y']; // List of data attributes
        var xVal = vals[0], yVal = vals[1];
        var svg = d3.select("#barchart").append("svg:svg")
                                .attr("width", w)
                                .attr("height", h);
        // Leave this to test your data uploading. All data uploading should be above this line
        function checkDataset(dataset) {
            if (dataset.length == 11)
                $("#partOne").append("<p>data loaded correctly</p>");
            else
                $("#partOne").append("<p>data loaded incorrectly. Try using the debugger to help you find the bug!</p>");
        }
        
        // Put your part one code here ***********************
        d3.csv('../../data/anscombe_I.csv', function(csvData) {
            var data1 = csvData;
            checkDataset(data1);
            
            
        // Put your part two code here ***********************
            var xScale = d3.scale.linear()
                .domain([0,  11])
                .range([xOffset + margin, w - margin]);
            var maxYBarScale = d3.max(data1, function(d) {
                    return parseFloat(d[xVal]);
                })+1;
            var yBarScale = d3.scale.linear()
                .domain([0, maxYBarScale])
                .range([h - yOffset - margin, margin]);
            // Specify the axis scale and general position
            var xAxis = d3.svg.axis()
                              .scale(xScale)
                              .orient("bottom")
                              .ticks(6);

            // Add a graphics element to hold the axis we created above (xAxis)
            var xAxisG = svg.append('g')
                            .attr('class', 'axis')
                            .attr('transform', 'translate(0, ' + (h - yOffset) + ')')
                            .call(xAxis);

            // Add a label that shows the user what that axis represents
            var xLabel = svg.append("text")
                            .attr('class', 'label')
                            .attr('x', w/2)
                            .attr('y', h - margin/2)
                            .text("Dataset Position");

            // Repeat for the y-axis
            var yAxis = d3.svg.axis()
                              .scale(yBarScale)
                              .orient("left")
                              .ticks(6);

            var yAxisG = svg.append('g')
                            .attr('class', 'axis')
                            .attr('transform', 'translate(' + xOffset + ', 0)')
                            .call(yAxis);

            var yLabel = svg.append("text")
                            .attr('class', 'label')
                            .attr('x', 0)
                            .attr('y', h/2)
                            .text("X Value");
            
            bar = svg.selectAll('.bar')
                       .data(data1);
            
	        bar.enter().append('svg:rect');	// Create new elements if needed
            bar
                .attr('class', 'bar')									// Give it a class
                .attr('height', function(d) { return yBarScale(maxYBarScale - d[xVal]); })
                .attr('width',  40)
                .attr('x', function(d, i) {return (xScale(i))})
                .attr('y', function(d) {return (400 - yBarScale(maxYBarScale - d[xVal]))})
                .style('fill','green');

        });
        d3.csv('../../data/anscombe_II.csv', function(csvData) {
            var data2 = csvData;
            checkDataset(data2);
        });
        d3.csv('../../data/anscombe_III.csv', function(csvData) {
            var data3 = csvData;
            checkDataset(data3);
        });
        d3.csv('../../data/anscombe_IV.csv', function(csvData) {
            var data4 = csvData;
            checkDataset(data4);
        });
            
        
        // Put your part five code here ***********************
        
    </script>
</body>


</html>